<tui-root>
  <div *ngIf="!isServicesRoute">
    <div class="custom-header">
      <div class="left-section">
        <img src="assets/Logo.svg" class="logo-img" />
      </div>
      <div class="center-section">
        <tui-tabs class="menu1" [(activeItemIndex)]="index1">
          <a tuiTab routerLink="/services" routerLinkActive="active">Сервисы</a>
          <a tuiTab routerLink="/products" routerLinkActive="active">Продукты</a>
          <a tuiTab routerLink="/contacts" routerLinkActive="active">Контакты</a>
        </tui-tabs>
      </div>
      <div class="right-section" (mouseenter)="toggleDropdown(true)" (mouseleave)="toggleDropdown(false)">
        <!-- Строка поиска -->
        <form class="b-form" [formGroup]="searchForm">
          <tui-input
            tuiTextfield
            tuiTextfieldIconLeft="tuiIconSearch"
            tuiTextfieldSize="s"
            [tuiTextfieldCleaner]="true"
            formControlName="searchValue"
          >
            <input type="text" tuiTextfield placeholder="Поиск..." />
            Поиск
          </tui-input>
        </form>

        <!-- Авторизованные пользователи -->
        <tui-tabs class="menu2" [(activeItemIndex)]="index2" *ngIf="isLoggedIn">
          <a tuiTab routerLink="/cart" routerLinkActive="active">
            <tui-svg src="tuiIconShoppingCart" class="icon-profile"></tui-svg>
          </a>
          <a tuiTab routerLink="/personal-cabinet/notifications" routerLinkActive="active">
            <tui-svg src="tuiIconBell" class="icon-profile"></tui-svg>
          </a>

          <!-- Кнопка для отображения выпадающего меню по наведению -->
          <a tuiTab routerLinkActive="active">
            <tui-svg src="tuiIconUser" class="icon-profile"></tui-svg>
          </a>

          <!-- Выпадающее меню -->
          <div class="dropdown-menu" *ngIf="dropdownOpen">
            <tui-data-list size="s">
              <button appearance="mono" routerLink="/personal-cabinet" tuiOption>
                <tui-svg src="tuiIconHome"></tui-svg> Личный кабинет
              </button>
              <button appearance="mono" (click)="logout()" tuiOption>
                <tui-svg src="tuiIconLogOut"></tui-svg> Выйти
              </button>
            </tui-data-list>
          </div>
        </tui-tabs>

        <!-- Выпадающее меню для неавторизованных пользователей -->
        <tui-tabs class="menu2" [(activeItemIndex)]="index2" *ngIf="!isLoggedIn">
          <a tuiTab routerLinkActive="active">
            <tui-svg src="tuiIconUser" class="icon-profile"></tui-svg>
          </a>
          <!-- Выпадающее меню -->
          <div class="dropdown-menu" *ngIf="dropdownOpen">
            <tui-data-list size="s">
              <button appearance="mono" routerLink="/login" tuiOption>
                <tui-svg src="tuiIconLogIn"></tui-svg> Вход
              </button>
              <button appearance="mono" routerLink="/register" tuiOption>
                <tui-svg src="tuiIconUserPlus"></tui-svg> Регистрация
              </button>
            </tui-data-list>
          </div>

        </tui-tabs>
        </div>
    </div>

    <!-- Sidebar -->
    <div class="content">
      <app-sidebar></app-sidebar>
      <router-outlet></router-outlet>
    </div>
  </div>

  <div *ngIf="isServicesRoute">
    <app-services></app-services>
  </div>
</tui-root>


